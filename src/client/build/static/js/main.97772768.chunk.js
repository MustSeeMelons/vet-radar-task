(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var r,n=a(0),c=a.n(n),o=a(7),i=a.n(o),s=(a(79),a(10)),u=a(130),l=a(131),m=a(44),p=a(128),d=a(129),f=a(39),E=a(42),h=a(43),v=a.n(h),b=Object(p.a)(function(e){return Object(d.a)({appBar:{top:"auto",bottom:0},grid:{marginTop:"10px",marginBottom:"10px"},svg:{display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:"5px"}})}),g=function(){var e=b();return c.a.createElement(u.a,{position:"static",className:e.appBar},c.a.createElement(l.a,{className:e.grid,container:!0,justify:"center",alignContent:"center"},c.a.createElement(m.a,{variant:"h6"},"Less is more"),c.a.createElement("div",{className:e.svg},c.a.createElement(f.Icon,{path:E.a,title:"Beefy Icon",size:1,color:v.a.A100}))))},y=a(132),C=a(142),O=a(141),I=a(133),w=a(134),j=a(135),T=a(140),R=a(23),x=Object(R.a)(),k=a(19),S=a(35),_=a.n(S),N=function(e){return!_.a.isEmpty(e.cartReducer.cart.userId)},L=function(e){return!e.cartReducer.cart||_.a.isEmpty(e.cartReducer.cart.itemQuantities)},D=Object(p.a)(function(e){return Object(d.a)({title:{flexGrow:1,marginLeft:e.spacing(2),cursor:"pointer"},popover:{},popoverEmpty:{margin:5},paper:{padding:e.spacing(1)},popCard:{padding:1,width:130},popCardContent:{padding:3,"&:last-child":{padding:3}}})}),U=function(){x.push("/")},A=Object(k.b)(function(e){return{cart:e.cartReducer.cart,isCartEmpty:L(e)}})(function(e){var t=D(),a=c.a.useState(null),r=Object(s.a)(a,2),n=r[0],o=r[1],i=function(){o(null)},p=Boolean(n);return c.a.createElement(u.a,{position:"static"},c.a.createElement(y.a,null,c.a.createElement(f.Icon,{path:E.b,title:"Vet Icon",size:3,color:v.a.A100}),c.a.createElement(m.a,{variant:"h4",className:t.title,onClick:U},"VetRadar"),c.a.createElement(C.a,{"aria-owns":p?"mouse-over-popover":void 0,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit"},"My Cart"),c.a.createElement(O.a,{id:"mouse-over-popover",className:t.popover,classes:{paper:t.paper},open:p,anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:i,disableRestoreFocus:!0},c.a.createElement(l.a,{container:!0,spacing:2,direction:"column"},!e.isCartEmpty&&c.a.createElement(c.a.Fragment,null,c.a.createElement(C.a,{onClick:function(){i(),x.push("/cart")}},"To Cart"),c.a.createElement(I.a,null)),e.isCartEmpty?c.a.createElement(l.a,{item:!0,className:t.popoverEmpty},c.a.createElement(m.a,{variant:"subtitle1"},"Mate, your cart is empty.")):e.cart.itemQuantities.map(function(e,a){return c.a.createElement(l.a,{item:!0,key:a},c.a.createElement(w.a,{className:t.popCard},c.a.createElement(j.a,{className:t.popCardContent},c.a.createElement(m.a,{variant:"body2"},e.item.itemName),c.a.createElement(l.a,{container:!0,justify:"space-between"},c.a.createElement(m.a,{variant:"subtitle2"},"".concat(e.item.price,"$")),c.a.createElement(m.a,{variant:"subtitle2"},"".concat(e.quantity," pcs"))))))}),!e.isCartEmpty&&c.a.createElement(c.a.Fragment,null,c.a.createElement(I.a,null),c.a.createElement(l.a,{item:!0,key:-1},c.a.createElement(l.a,{container:!0,justify:"space-between"},c.a.createElement(m.a,{variant:"subtitle2"},c.a.createElement(T.a,{fontWeight:600},"Total:")),c.a.createElement(m.a,{variant:"subtitle2"},c.a.createElement(T.a,{fontWeight:600},"".concat(e.cart.totalPrice,"$"))))))))))}),B=a(136),G=a(143),P=a(6),F=a.n(P),M=a(14),W=a(137),$=a(138),z=function(e){return!_.a.isEmpty(e.itemReducer.items)},Q=a(31);!function(e){e.SET="SET"}(r||(r={}));var q,H=a(8);!function(e){e.SET_USER_ID="SET_USER_ID",e.SET_CONTROLS="TOGGLE_CONTROLS",e.SET_ERR="SET_ERR"}(q||(q={}));var J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:q.SET_CONTROLS,payload:{value:e}}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:q.SET_ERR,payload:{err:e}}};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach(function(t){Object(H.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Y;!function(e){e.SET_CART="SET_CART"}(Y||(Y={}));var Z,ee=function(e){return{type:Y.SET_CART,payload:{cart:e}}},te=a(66),ae={items:[]},re={userId:"",lockControls:!1,err:!1},ne={cart:{userId:"",itemQuantities:[]}},ce=Object(Q.createStore)(Object(Q.combineReducers)({itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET:return{items:t.payload.items};default:return e}},globalReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.SET_USER_ID:return X({},e,{userId:t.payload.userId});case q.SET_CONTROLS:return e.lockControls!==t.payload.value?X({},e,{lockControls:t.payload.value}):e;case q.SET_ERR:return e.err!==t.payload.err?X({},e,{err:t.payload.err}):e;default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.SET_CART:return{cart:t.payload.cart};default:return e}}}),Object(te.composeWithDevTools)(Object(Q.applyMiddleware)())),oe=a(36),ie=a.n(oe),se="".concat("http://localhost:8080","/carts"),ue="".concat("http://localhost:8080","/items"),le={ITEM_LIST_URL:"".concat(ue,"/list"),ITEM_ADD_URL:"".concat(se,"/add"),ITEM_DELETE_URL:"".concat(se,"/delete"),CART_GET_URL:"".concat(se,"/get")},me={timeout:3e4},pe={fetchItems:function(){var e=Object(M.a)(F.a.mark(function e(){var t;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.get(le.ITEM_LIST_URL,me);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},de={addToCart:function(){var e=Object(M.a)(F.a.mark(function e(t,a){var r;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.post(le.ITEM_ADD_URL,{userId:t,item:a},me);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),removeFromCart:function(){var e=Object(M.a)(F.a.mark(function e(t,a){var r;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.post(le.ITEM_DELETE_URL,{userId:t,itemName:a.itemName},me);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),getCart:function(){var e=Object(M.a)(F.a.mark(function e(t){var a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie.a.post(le.CART_GET_URL,{userId:t},me);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},fe=a(67),Ee=a.n(fe);!function(e){e.USER_ID="USER_ID"}(Z||(Z={}));var he=function(){return Ee.a.v4()},ve={loadItems:function(){var e=Object(M.a)(F.a.mark(function e(){var t;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ce.dispatch(J(!0)),e.next=4,pe.fetchItems();case 4:t=e.sent,ce.dispatch((a=t.items,{type:r.SET,payload:{items:a}})),ce.dispatch(V()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ce.dispatch(V(!0));case 12:return e.prev=12,ce.dispatch(J()),e.finish(12);case 15:case"end":return e.stop()}var a},e,null,[[0,9,12,15]])}));return function(){return e.apply(this,arguments)}}(),handleSessionSetup:function(){var e=localStorage.getItem(Z.USER_ID);e||function(e){localStorage.setItem(Z.USER_ID,e)}(e=he()),ce.dispatch(function(e){return{type:q.SET_USER_ID,payload:{userId:e}}}(e))},getCart:function(){var e=Object(M.a)(F.a.mark(function e(t){var a;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ce.dispatch(J(!0)),e.next=4,de.getCart(t);case 4:(a=e.sent)&&ce.dispatch(ee(a)),ce.dispatch(V()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),ce.dispatch(V(!0));case 12:return e.prev=12,ce.dispatch(J()),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,9,12,15]])}));return function(t){return e.apply(this,arguments)}}(),addItemToCart:function(){var e=Object(M.a)(F.a.mark(function e(t,a){return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ce.dispatch(J(!0)),e.next=4,de.addToCart(t,a);case 4:ce.dispatch(V()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ce.dispatch(V(!0));case 10:return e.prev=10,ce.dispatch(J()),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,7,10,13]])}));return function(t,a){return e.apply(this,arguments)}}(),removeItemFromCaer:function(){var e=Object(M.a)(F.a.mark(function e(t,a){return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ce.dispatch(J(!0)),e.next=4,de.removeFromCart(t,a);case 4:ce.dispatch(V()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ce.dispatch(V(!0));case 10:return e.prev=10,ce.dispatch(J()),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,7,10,13]])}));return function(t,a){return e.apply(this,arguments)}}()},be=a(108),ge=a(107),ye=Object(be.a)(function(e){return Object(ge.a)({card:{width:200},container:{marginTop:10}})}),Ce=Object(k.b)(function(e){return{items:e.itemReducer.items,isItemsLoaded:z(e),userId:e.globalReducer.userId,cart:e.cartReducer.cart,lockControls:e.globalReducer.lockControls}})(function(e){var t=ye();Object(n.useEffect)(function(){Object(M.a)(F.a.mark(function e(){return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.loadItems();case 2:case"end":return e.stop()}},e)}))()},[]);var a=function(){var t=Object(M.a)(F.a.mark(function t(a){return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.addItemToCart(e.userId,a);case 2:return t.next=4,ve.getCart(e.userId);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return c.a.createElement(B.a,{className:t.container},c.a.createElement(l.a,{container:!0,spacing:2,justify:"space-evenly"},e.isItemsLoaded&&e.items.map(function(r,n){var o=function(e,t){return!!t&&!!t.itemQuantities.find(function(t){return t.item.itemName===e.itemName})}(r,e.cart);return c.a.createElement(l.a,{item:!0,key:n},c.a.createElement(w.a,{className:t.card},c.a.createElement(W.a,{title:r.itemName}),c.a.createElement(j.a,null,c.a.createElement(m.a,{color:"secondary"},"".concat(r.price," $"))),c.a.createElement($.a,null,c.a.createElement(C.a,{disabled:e.lockControls,variant:"contained",color:o?"primary":"secondary",fullWidth:!0,onClick:function(){o?x.push("/cart"):a(r)}},o?"To Cart":"Buy"))))})))}),Oe=Object(be.a)(function(e){return Object(ge.a)({gridItem:{width:"50%"},cardHeader:{padding:5,marginLeft:20},cardContent:{padding:0,margin:20,"&:last-child":{padding:0}},cardTexts:{width:200},cardActions:{},cardButton:{margin:5},itemGrid:{margin:0,width:"100%"},countField:{width:30},emptyItem:{paddingBottom:15,paddingTop:15},priceGrid:{padding:10}})}),Ie=Object(k.b)(function(e){return{cart:e.cartReducer.cart,isCartEmpty:L(e),userId:e.globalReducer.userId,lockControls:e.globalReducer.lockControls}})(function(e){var t=Oe();return c.a.createElement(c.a.Fragment,null,e.isCartEmpty&&c.a.createElement(l.a,{item:!0,className:t.emptyItem},c.a.createElement(m.a,{variant:"h4"},"Nothing here.")),c.a.createElement(l.a,{id:"itemGrid",container:!0,spacing:3,className:t.itemGrid},!e.isCartEmpty&&e.cart.itemQuantities.map(function(a,r){return c.a.createElement(l.a,{item:!0,key:r,className:t.gridItem},c.a.createElement(w.a,null,c.a.createElement(W.a,{title:a.item.itemName,className:t.cardHeader}),c.a.createElement(I.a,null),c.a.createElement(j.a,{className:t.cardContent},c.a.createElement(l.a,{container:!0,justify:"space-between",alignItems:"center"},c.a.createElement(l.a,{item:!0,className:t.cardTexts},c.a.createElement(m.a,{variant:"h5"},"".concat(a.item.price,"$ - ").concat(a.quantity," pcs"))),c.a.createElement(l.a,{item:!0,className:t.cardActions},c.a.createElement(C.a,{className:t.cardButton,disabled:e.lockControls,variant:"outlined",color:"primary",onClick:Object(M.a)(F.a.mark(function t(){return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.addItemToCart(e.userId,a.item);case 2:return t.next=4,ve.getCart(e.userId);case 4:case"end":return t.stop()}},t)}))},"Add"),c.a.createElement(C.a,{className:t.cardButton,disabled:e.lockControls,variant:"outlined",color:"secondary",onClick:Object(M.a)(F.a.mark(function t(){return F.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ve.removeItemFromCaer(e.userId,a.item);case 2:return t.next=4,ve.getCart(e.userId);case 4:case"end":return t.stop()}},t)}))},"Remove"))))))})),c.a.createElement(I.a,null),c.a.createElement(l.a,{container:!0,alignItems:"flex-end",justify:"center",className:t.priceGrid},c.a.createElement(l.a,{item:!0},c.a.createElement(T.a,{fontWeight:600},"Total: ".concat(e.cart.totalPrice||"0.00","$")))))}),we=a(139),je=Object(p.a)(function(e){return Object(d.a)({overlay:{position:"fixed",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.2)",zIndex:1e3}})}),Te=function(){var e=je();return c.a.createElement("div",{className:e.overlay},c.a.createElement(we.a,null))},Re=Object(p.a)(function(e){return Object(d.a)({container:{width:"100%",backgroundColor:e.palette.error.light,textAlign:"center"}})}),xe=function(){var e=Re();return c.a.createElement(l.a,{container:!0,alignContent:"center",justify:"center"},c.a.createElement(l.a,{item:!0,className:e.container},c.a.createElement(m.a,{variant:"h6",color:"textSecondary"},"We are experiancing some technical problems. Please try again later.")))},ke=Object(p.a)(function(e){return Object(d.a)({root:{display:"flex",flexDirection:"column",height:"100%",width:"100%",flexGrow:1,padding:0,margin:0},container:{flexGrow:1,padding:5}})}),Se=Object(k.b)(function(e){return{userId:e.globalReducer.userId,isCartLoaded:N(e),lockControls:e.globalReducer.lockControls,err:e.globalReducer.err}})(function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],i=ke();return Object(n.useEffect)(function(){ve.handleSessionSetup()},[]),Object(n.useEffect)(function(){!e.userId||e.isCartLoaded||r||(o(!0),ve.getCart(e.userId))},[e.userId,e.isCartLoaded,r]),c.a.createElement(B.a,{id:"rootContainer",className:i.root,maxWidth:!1},e.lockControls&&c.a.createElement(Te,null),c.a.createElement(G.b,{history:x},c.a.createElement(A,null),c.a.createElement(B.a,{id:"content",className:i.container},e.err&&c.a.createElement(xe,null),c.a.createElement(G.a,{path:"/",exact:!0,component:Ce}),c.a.createElement(G.a,{path:"/cart",component:Ie})),c.a.createElement(g,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(k.a,{store:ce},c.a.createElement(Se,null)),document.getElementById("main")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){e.exports=a(106)},79:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.97772768.chunk.js.map